# BUILD content for the @intel_openvino repository.

cc_library(
    name = "openvino",
    hdrs = select({
        "@org_tensorflow//tensorflow:android": glob([
            "openvino_android/runtime/include/**/*.h",
            "openvino_android/runtime/include/**/*.hpp",
        ]),
        "//conditions:default": glob([
            "openvino/runtime/include/**/*.h",
            "openvino/runtime/include/**/*.hpp",
        ]),
    }),
    srcs = select({
        "@org_tensorflow//tensorflow:windows": [
            "openvino/runtime/lib/intel64/Release/openvino.lib",
            "openvino/runtime/lib/intel64/Release/openvino_tensorflow_lite_frontend.lib",
        ],
        "@org_tensorflow//tensorflow:android": [
            "openvino_android/runtime/lib/intel64/libopenvino.so",
            "openvino_android/runtime/lib/intel64/libopenvino_tensorflow_lite_frontend.so",
        ],
        "//conditions:default": [
            "openvino/runtime/lib/intel64/libopenvino.so",
            "openvino/runtime/lib/intel64/libopenvino_tensorflow_lite_frontend.so",
        ],
    }),
    strip_include_prefix = select({
        "@org_tensorflow//tensorflow:android": "openvino_android/runtime/include",
        "//conditions:default": "openvino/runtime/include",
    }),
    includes = select({
        "@org_tensorflow//tensorflow:android": [
            "openvino_android/runtime/include/ie/cpp",
            "openvino_android/runtime/include/ie",
            "openvino_android/runtime/include",
        ],
        "//conditions:default": [
            "openvino/runtime/include/ie/cpp",
            "openvino/runtime/include/ie",
            "openvino/runtime/include",
        ],
    }),
    linkopts = select({
        "@org_tensorflow//tensorflow:windows": [
            "/FORCE:MULTIPLE",
        ],
        "//conditions:default": [
        ],
    }),
    visibility = ["//visibility:public"],
)

exports_files(glob(["**/*.so"]))
